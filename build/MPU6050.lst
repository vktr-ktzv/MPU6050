ARM GAS  /tmp/ccQ5gjyD.s 			page 1


   1              		.cpu cortex-m0
   2              		.eabi_attribute 20, 1
   3              		.eabi_attribute 21, 1
   4              		.eabi_attribute 23, 3
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 1
   9              		.eabi_attribute 34, 0
  10              		.eabi_attribute 18, 4
  11              		.file	"MPU6050.c"
  12              		.text
  13              	.Ltext0:
  14              		.cfi_sections	.debug_frame
  15              		.section	.text.MPU6050_Writebyte,"ax",%progbits
  16              		.align	1
  17              		.global	MPU6050_Writebyte
  18              		.arch armv6s-m
  19              		.syntax unified
  20              		.code	16
  21              		.thumb_func
  22              		.fpu softvfp
  24              	MPU6050_Writebyte:
  25              	.LVL0:
  26              	.LFB40:
  27              		.file 1 "Core/Src/MPU6050.c"
   1:Core/Src/MPU6050.c **** #include "MPU6050.h"
   2:Core/Src/MPU6050.c **** #include "main.h"
   3:Core/Src/MPU6050.c **** #include "i2c.h"
   4:Core/Src/MPU6050.c **** 
   5:Core/Src/MPU6050.c **** Struct_MPU6050 MPU6050;
   6:Core/Src/MPU6050.c **** 
   7:Core/Src/MPU6050.c **** static float LSB_Sensitivity_ACC;
   8:Core/Src/MPU6050.c **** static float LSB_Sensitivity_GYRO;
   9:Core/Src/MPU6050.c **** 
  10:Core/Src/MPU6050.c **** void MPU6050_Writebyte(uint8_t reg_addr, uint8_t val)
  11:Core/Src/MPU6050.c **** {
  28              		.loc 1 11 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32              		.loc 1 11 1 is_stmt 0 view .LVU1
  33 0000 00B5     		push	{lr}
  34              	.LCFI0:
  35              		.cfi_def_cfa_offset 4
  36              		.cfi_offset 14, -4
  37 0002 87B0     		sub	sp, sp, #28
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 32
  40 0004 1723     		movs	r3, #23
  41 0006 6B44     		add	r3, r3, sp
  42 0008 1970     		strb	r1, [r3]
  12:Core/Src/MPU6050.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU6050_ADDR, reg_addr, I2C_MEMADD_SIZE_8BIT, &val, 1, 1);
  43              		.loc 1 12 2 is_stmt 1 view .LVU2
  44 000a 0200     		movs	r2, r0
  45 000c 0121     		movs	r1, #1
  46              	.LVL1:
ARM GAS  /tmp/ccQ5gjyD.s 			page 2


  47              		.loc 1 12 2 is_stmt 0 view .LVU3
  48 000e 0291     		str	r1, [sp, #8]
  49              	.LVL2:
  50              		.loc 1 12 2 view .LVU4
  51 0010 0191     		str	r1, [sp, #4]
  52 0012 0093     		str	r3, [sp]
  53 0014 0123     		movs	r3, #1
  54 0016 CF31     		adds	r1, r1, #207
  55 0018 0248     		ldr	r0, .L2
  56              	.LVL3:
  57              		.loc 1 12 2 view .LVU5
  58 001a FFF7FEFF 		bl	HAL_I2C_Mem_Write
  59              	.LVL4:
  13:Core/Src/MPU6050.c **** }
  60              		.loc 1 13 1 view .LVU6
  61 001e 07B0     		add	sp, sp, #28
  62              		@ sp needed
  63 0020 00BD     		pop	{pc}
  64              	.L3:
  65 0022 C046     		.align	2
  66              	.L2:
  67 0024 00000000 		.word	hi2c1
  68              		.cfi_endproc
  69              	.LFE40:
  71              		.section	.text.MPU6050_Writebytes,"ax",%progbits
  72              		.align	1
  73              		.global	MPU6050_Writebytes
  74              		.syntax unified
  75              		.code	16
  76              		.thumb_func
  77              		.fpu softvfp
  79              	MPU6050_Writebytes:
  80              	.LVL5:
  81              	.LFB41:
  14:Core/Src/MPU6050.c **** 
  15:Core/Src/MPU6050.c **** void MPU6050_Writebytes(uint8_t reg_addr, uint8_t len, uint8_t* data)
  16:Core/Src/MPU6050.c **** {
  82              		.loc 1 16 1 is_stmt 1 view -0
  83              		.cfi_startproc
  84              		@ args = 0, pretend = 0, frame = 0
  85              		@ frame_needed = 0, uses_anonymous_args = 0
  86              		.loc 1 16 1 is_stmt 0 view .LVU8
  87 0000 00B5     		push	{lr}
  88              	.LCFI2:
  89              		.cfi_def_cfa_offset 4
  90              		.cfi_offset 14, -4
  91 0002 85B0     		sub	sp, sp, #20
  92              	.LCFI3:
  93              		.cfi_def_cfa_offset 24
  17:Core/Src/MPU6050.c **** 	HAL_I2C_Mem_Write(&hi2c1, MPU6050_ADDR, reg_addr, I2C_MEMADD_SIZE_8BIT, data, len, 1);
  94              		.loc 1 17 2 is_stmt 1 view .LVU9
  95 0004 0123     		movs	r3, #1
  96 0006 0293     		str	r3, [sp, #8]
  97 0008 0191     		str	r1, [sp, #4]
  98 000a 0092     		str	r2, [sp]
  99 000c 0200     		movs	r2, r0
 100              	.LVL6:
ARM GAS  /tmp/ccQ5gjyD.s 			page 3


 101              		.loc 1 17 2 is_stmt 0 view .LVU10
 102 000e D021     		movs	r1, #208
 103              	.LVL7:
 104              		.loc 1 17 2 view .LVU11
 105 0010 0248     		ldr	r0, .L5
 106              	.LVL8:
 107              		.loc 1 17 2 view .LVU12
 108 0012 FFF7FEFF 		bl	HAL_I2C_Mem_Write
 109              	.LVL9:
  18:Core/Src/MPU6050.c **** }
 110              		.loc 1 18 1 view .LVU13
 111 0016 05B0     		add	sp, sp, #20
 112              		@ sp needed
 113 0018 00BD     		pop	{pc}
 114              	.L6:
 115 001a C046     		.align	2
 116              	.L5:
 117 001c 00000000 		.word	hi2c1
 118              		.cfi_endproc
 119              	.LFE41:
 121              		.section	.text.MPU6050_Readbyte,"ax",%progbits
 122              		.align	1
 123              		.global	MPU6050_Readbyte
 124              		.syntax unified
 125              		.code	16
 126              		.thumb_func
 127              		.fpu softvfp
 129              	MPU6050_Readbyte:
 130              	.LVL10:
 131              	.LFB42:
  19:Core/Src/MPU6050.c **** 
  20:Core/Src/MPU6050.c **** void MPU6050_Readbyte(uint8_t reg_addr, uint8_t* data)
  21:Core/Src/MPU6050.c **** {
 132              		.loc 1 21 1 is_stmt 1 view -0
 133              		.cfi_startproc
 134              		@ args = 0, pretend = 0, frame = 0
 135              		@ frame_needed = 0, uses_anonymous_args = 0
 136              		.loc 1 21 1 is_stmt 0 view .LVU15
 137 0000 00B5     		push	{lr}
 138              	.LCFI4:
 139              		.cfi_def_cfa_offset 4
 140              		.cfi_offset 14, -4
 141 0002 85B0     		sub	sp, sp, #20
 142              	.LCFI5:
 143              		.cfi_def_cfa_offset 24
  22:Core/Src/MPU6050.c **** 	HAL_I2C_Mem_Read(&hi2c1, MPU6050_ADDR, reg_addr, I2C_MEMADD_SIZE_8BIT, data, 1, 1);
 144              		.loc 1 22 2 is_stmt 1 view .LVU16
 145 0004 0200     		movs	r2, r0
 146 0006 0123     		movs	r3, #1
 147 0008 0293     		str	r3, [sp, #8]
 148 000a 0193     		str	r3, [sp, #4]
 149 000c 0091     		str	r1, [sp]
 150 000e D021     		movs	r1, #208
 151              	.LVL11:
 152              		.loc 1 22 2 is_stmt 0 view .LVU17
 153 0010 0248     		ldr	r0, .L8
 154              	.LVL12:
ARM GAS  /tmp/ccQ5gjyD.s 			page 4


 155              		.loc 1 22 2 view .LVU18
 156 0012 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 157              	.LVL13:
  23:Core/Src/MPU6050.c **** }
 158              		.loc 1 23 1 view .LVU19
 159 0016 05B0     		add	sp, sp, #20
 160              		@ sp needed
 161 0018 00BD     		pop	{pc}
 162              	.L9:
 163 001a C046     		.align	2
 164              	.L8:
 165 001c 00000000 		.word	hi2c1
 166              		.cfi_endproc
 167              	.LFE42:
 169              		.section	.text.MPU6050_Readbytes,"ax",%progbits
 170              		.align	1
 171              		.global	MPU6050_Readbytes
 172              		.syntax unified
 173              		.code	16
 174              		.thumb_func
 175              		.fpu softvfp
 177              	MPU6050_Readbytes:
 178              	.LVL14:
 179              	.LFB43:
  24:Core/Src/MPU6050.c **** 
  25:Core/Src/MPU6050.c **** void MPU6050_Readbytes(uint8_t reg_addr, uint8_t len, uint8_t* data)
  26:Core/Src/MPU6050.c **** {
 180              		.loc 1 26 1 is_stmt 1 view -0
 181              		.cfi_startproc
 182              		@ args = 0, pretend = 0, frame = 0
 183              		@ frame_needed = 0, uses_anonymous_args = 0
 184              		.loc 1 26 1 is_stmt 0 view .LVU21
 185 0000 00B5     		push	{lr}
 186              	.LCFI6:
 187              		.cfi_def_cfa_offset 4
 188              		.cfi_offset 14, -4
 189 0002 85B0     		sub	sp, sp, #20
 190              	.LCFI7:
 191              		.cfi_def_cfa_offset 24
  27:Core/Src/MPU6050.c **** 	HAL_I2C_Mem_Read(&hi2c1, MPU6050_ADDR, reg_addr, I2C_MEMADD_SIZE_8BIT, data, len, 1);
 192              		.loc 1 27 2 is_stmt 1 view .LVU22
 193 0004 0123     		movs	r3, #1
 194 0006 0293     		str	r3, [sp, #8]
 195 0008 0191     		str	r1, [sp, #4]
 196 000a 0092     		str	r2, [sp]
 197 000c 0200     		movs	r2, r0
 198              	.LVL15:
 199              		.loc 1 27 2 is_stmt 0 view .LVU23
 200 000e D021     		movs	r1, #208
 201              	.LVL16:
 202              		.loc 1 27 2 view .LVU24
 203 0010 0248     		ldr	r0, .L11
 204              	.LVL17:
 205              		.loc 1 27 2 view .LVU25
 206 0012 FFF7FEFF 		bl	HAL_I2C_Mem_Read
 207              	.LVL18:
  28:Core/Src/MPU6050.c **** }
ARM GAS  /tmp/ccQ5gjyD.s 			page 5


 208              		.loc 1 28 1 view .LVU26
 209 0016 05B0     		add	sp, sp, #20
 210              		@ sp needed
 211 0018 00BD     		pop	{pc}
 212              	.L12:
 213 001a C046     		.align	2
 214              	.L11:
 215 001c 00000000 		.word	hi2c1
 216              		.cfi_endproc
 217              	.LFE43:
 219              		.section	.text.MPU6050_Get6AxisRawData,"ax",%progbits
 220              		.align	1
 221              		.global	MPU6050_Get6AxisRawData
 222              		.syntax unified
 223              		.code	16
 224              		.thumb_func
 225              		.fpu softvfp
 227              	MPU6050_Get6AxisRawData:
 228              	.LVL19:
 229              	.LFB45:
  29:Core/Src/MPU6050.c **** 
  30:Core/Src/MPU6050.c **** void MPU6050_Initialization(void)
  31:Core/Src/MPU6050.c **** {
  32:Core/Src/MPU6050.c **** 	HAL_Delay(50);
  33:Core/Src/MPU6050.c **** 	uint8_t who_am_i = 0;
  34:Core/Src/MPU6050.c **** 	printf("Checking MPU6050...\n");
  35:Core/Src/MPU6050.c **** 
  36:Core/Src/MPU6050.c **** 	MPU6050_Readbyte(MPU6050_WHO_AM_I, &who_am_i);
  37:Core/Src/MPU6050.c **** 	if(who_am_i == 0x68)
  38:Core/Src/MPU6050.c **** 	{
  39:Core/Src/MPU6050.c **** 		printf("MPU6050 who_am_i = 0x%02x...OK\n", who_am_i);
  40:Core/Src/MPU6050.c **** 	}
  41:Core/Src/MPU6050.c **** 	else
  42:Core/Src/MPU6050.c **** 	{
  43:Core/Src/MPU6050.c **** 		printf("ERROR!\n");
  44:Core/Src/MPU6050.c **** 		printf("MPU6050 who_am_i : 0x%02x should be 0x68\n", who_am_i);
  45:Core/Src/MPU6050.c **** 		while(1)
  46:Core/Src/MPU6050.c **** 		{
  47:Core/Src/MPU6050.c **** 			printf("who am i error. Can not recognize mpu6050\n");
  48:Core/Src/MPU6050.c **** 			HAL_Delay(100);
  49:Core/Src/MPU6050.c **** 		}
  50:Core/Src/MPU6050.c **** 	}
  51:Core/Src/MPU6050.c **** 
  52:Core/Src/MPU6050.c **** 	//Reset the whole module before initialization
  53:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_PWR_MGMT_1, 0x1<<7);
  54:Core/Src/MPU6050.c **** 	HAL_Delay(100);
  55:Core/Src/MPU6050.c **** 
  56:Core/Src/MPU6050.c **** 	//Power Management setting
  57:Core/Src/MPU6050.c **** 	/* Default is sleep mode
  58:Core/Src/MPU6050.c **** 	 * necessary to wake up MPU6050*/
  59:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_PWR_MGMT_1, 0x00);
  60:Core/Src/MPU6050.c **** 	HAL_Delay(50);
  61:Core/Src/MPU6050.c **** 
  62:Core/Src/MPU6050.c **** 	//Sample rate divider
  63:Core/Src/MPU6050.c **** 	/*Sample Rate = Gyroscope Output Rate / (1 + SMPRT_DIV) */
  64:Core/Src/MPU6050.c **** 	//	MPU6050_Writebyte(MPU6050_SMPRT_DIV, 0x00); // ACC output rate is 1kHz, GYRO output rate is 8kH
  65:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_SMPRT_DIV, 39); // Sample Rate = 200Hz
ARM GAS  /tmp/ccQ5gjyD.s 			page 6


  66:Core/Src/MPU6050.c **** 	HAL_Delay(50);
  67:Core/Src/MPU6050.c **** 
  68:Core/Src/MPU6050.c **** 	//FSYNC and DLPF setting
  69:Core/Src/MPU6050.c **** 	/*DLPF is set to 0*/
  70:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_CONFIG, 0x00);
  71:Core/Src/MPU6050.c **** 	HAL_Delay(50);
  72:Core/Src/MPU6050.c **** 
  73:Core/Src/MPU6050.c **** 	//GYRO FULL SCALE setting
  74:Core/Src/MPU6050.c **** 	/*FS_SEL  Full Scale Range
  75:Core/Src/MPU6050.c **** 	  0    	+-250 degree/s
  76:Core/Src/MPU6050.c **** 	  1		+-500 degree/s
  77:Core/Src/MPU6050.c **** 	  2		+-1000 degree/s
  78:Core/Src/MPU6050.c **** 	  3		+-2000 degree/s	*/
  79:Core/Src/MPU6050.c **** 	uint8_t FS_SCALE_GYRO = 0x0;
  80:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_GYRO_CONFIG, FS_SCALE_GYRO<<3);
  81:Core/Src/MPU6050.c **** 	HAL_Delay(50);
  82:Core/Src/MPU6050.c **** 
  83:Core/Src/MPU6050.c **** 	//ACCEL FULL SCALE setting
  84:Core/Src/MPU6050.c **** 	/*FS_SEL  Full Scale Range
  85:Core/Src/MPU6050.c **** 	  0    	+-2g
  86:Core/Src/MPU6050.c **** 	  1		+-4g
  87:Core/Src/MPU6050.c **** 	  2		+-8g
  88:Core/Src/MPU6050.c **** 	  3		+-16g	*/
  89:Core/Src/MPU6050.c **** 	uint8_t FS_SCALE_ACC = 0x0;
  90:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_ACCEL_CONFIG, FS_SCALE_ACC<<3);
  91:Core/Src/MPU6050.c **** 	HAL_Delay(50);
  92:Core/Src/MPU6050.c **** 
  93:Core/Src/MPU6050.c **** 	MPU6050_Get_LSB_Sensitivity(FS_SCALE_GYRO, FS_SCALE_ACC);
  94:Core/Src/MPU6050.c **** 	printf("LSB_Sensitivity_GYRO: %f, LSB_Sensitivity_ACC: %f\n",LSB_Sensitivity_GYRO, LSB_Sensitivity
  95:Core/Src/MPU6050.c **** 
  96:Core/Src/MPU6050.c **** 	//Interrupt PIN setting
  97:Core/Src/MPU6050.c **** 	uint8_t INT_LEVEL = 0x0; //0 - active high, 1 - active low
  98:Core/Src/MPU6050.c **** 	uint8_t LATCH_INT_EN = 0x0; //0 - INT 50us pulse, 1 - interrupt clear required
  99:Core/Src/MPU6050.c **** 	uint8_t INT_RD_CLEAR = 0x1; //0 - INT flag cleared by reading INT_STATUS, 1 - INT flag cleared by 
 100:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_INT_PIN_CFG, (INT_LEVEL<<7)|(LATCH_INT_EN<<5)|(INT_RD_CLEAR<<4)); //
 101:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 102:Core/Src/MPU6050.c **** 
 103:Core/Src/MPU6050.c **** 	//Interrupt enable setting
 104:Core/Src/MPU6050.c **** 	uint8_t DATA_RDY_EN = 0x1; // 1 - enable, 0 - disable
 105:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_INT_ENABLE, DATA_RDY_EN);
 106:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 107:Core/Src/MPU6050.c **** 
 108:Core/Src/MPU6050.c **** 	printf("MPU6050 setting is finished\n");
 109:Core/Src/MPU6050.c **** }
 110:Core/Src/MPU6050.c **** /*Get Raw Data from sensor*/
 111:Core/Src/MPU6050.c **** void MPU6050_Get6AxisRawData(Struct_MPU6050* mpu6050)
 112:Core/Src/MPU6050.c **** {
 230              		.loc 1 112 1 is_stmt 1 view -0
 231              		.cfi_startproc
 232              		@ args = 0, pretend = 0, frame = 16
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234              		.loc 1 112 1 is_stmt 0 view .LVU28
 235 0000 10B5     		push	{r4, lr}
 236              	.LCFI8:
 237              		.cfi_def_cfa_offset 8
 238              		.cfi_offset 4, -8
 239              		.cfi_offset 14, -4
ARM GAS  /tmp/ccQ5gjyD.s 			page 7


 240 0002 84B0     		sub	sp, sp, #16
 241              	.LCFI9:
 242              		.cfi_def_cfa_offset 24
 243 0004 0400     		movs	r4, r0
 113:Core/Src/MPU6050.c **** 	uint8_t data[14];
 244              		.loc 1 113 2 is_stmt 1 view .LVU29
 114:Core/Src/MPU6050.c **** 	MPU6050_Readbytes(MPU6050_ACCEL_XOUT_H, 14, data);
 245              		.loc 1 114 2 view .LVU30
 246 0006 6A46     		mov	r2, sp
 247 0008 0E21     		movs	r1, #14
 248 000a 3B20     		movs	r0, #59
 249              	.LVL20:
 250              		.loc 1 114 2 is_stmt 0 view .LVU31
 251 000c FFF7FEFF 		bl	MPU6050_Readbytes
 252              	.LVL21:
 115:Core/Src/MPU6050.c **** 
 116:Core/Src/MPU6050.c **** 	mpu6050->acc_x_raw = (data[0] << 8) | data[1];
 253              		.loc 1 116 2 is_stmt 1 view .LVU32
 254              		.loc 1 116 28 is_stmt 0 view .LVU33
 255 0010 6B46     		mov	r3, sp
 256 0012 1A78     		ldrb	r2, [r3]
 257              		.loc 1 116 32 view .LVU34
 258 0014 1202     		lsls	r2, r2, #8
 259              		.loc 1 116 44 view .LVU35
 260 0016 5B78     		ldrb	r3, [r3, #1]
 261              		.loc 1 116 38 view .LVU36
 262 0018 1343     		orrs	r3, r2
 263              		.loc 1 116 21 view .LVU37
 264 001a 2380     		strh	r3, [r4]
 117:Core/Src/MPU6050.c **** 	mpu6050->acc_y_raw = (data[2] << 8) | data[3];
 265              		.loc 1 117 2 is_stmt 1 view .LVU38
 266              		.loc 1 117 28 is_stmt 0 view .LVU39
 267 001c 6B46     		mov	r3, sp
 268 001e 9A78     		ldrb	r2, [r3, #2]
 269              		.loc 1 117 32 view .LVU40
 270 0020 1202     		lsls	r2, r2, #8
 271              		.loc 1 117 44 view .LVU41
 272 0022 DB78     		ldrb	r3, [r3, #3]
 273              		.loc 1 117 38 view .LVU42
 274 0024 1343     		orrs	r3, r2
 275              		.loc 1 117 21 view .LVU43
 276 0026 6380     		strh	r3, [r4, #2]
 118:Core/Src/MPU6050.c **** 	mpu6050->acc_z_raw = (data[4] << 8) | data[5];
 277              		.loc 1 118 2 is_stmt 1 view .LVU44
 278              		.loc 1 118 28 is_stmt 0 view .LVU45
 279 0028 6B46     		mov	r3, sp
 280 002a 1A79     		ldrb	r2, [r3, #4]
 281              		.loc 1 118 32 view .LVU46
 282 002c 1202     		lsls	r2, r2, #8
 283              		.loc 1 118 44 view .LVU47
 284 002e 5B79     		ldrb	r3, [r3, #5]
 285              		.loc 1 118 38 view .LVU48
 286 0030 1343     		orrs	r3, r2
 287              		.loc 1 118 21 view .LVU49
 288 0032 A380     		strh	r3, [r4, #4]
 119:Core/Src/MPU6050.c **** 
 120:Core/Src/MPU6050.c **** 	mpu6050->temperature_raw = (data[6] << 8) | data[7];
ARM GAS  /tmp/ccQ5gjyD.s 			page 8


 289              		.loc 1 120 2 is_stmt 1 view .LVU50
 290              		.loc 1 120 34 is_stmt 0 view .LVU51
 291 0034 6B46     		mov	r3, sp
 292 0036 9A79     		ldrb	r2, [r3, #6]
 293              		.loc 1 120 38 view .LVU52
 294 0038 1202     		lsls	r2, r2, #8
 295              		.loc 1 120 50 view .LVU53
 296 003a DB79     		ldrb	r3, [r3, #7]
 297              		.loc 1 120 44 view .LVU54
 298 003c 1343     		orrs	r3, r2
 299              		.loc 1 120 27 view .LVU55
 300 003e E380     		strh	r3, [r4, #6]
 121:Core/Src/MPU6050.c **** 
 122:Core/Src/MPU6050.c **** 	mpu6050->gyro_x_raw = ((data[8] << 8) | data[9]);
 301              		.loc 1 122 2 is_stmt 1 view .LVU56
 302              		.loc 1 122 30 is_stmt 0 view .LVU57
 303 0040 6B46     		mov	r3, sp
 304 0042 1A7A     		ldrb	r2, [r3, #8]
 305              		.loc 1 122 34 view .LVU58
 306 0044 1202     		lsls	r2, r2, #8
 307              		.loc 1 122 46 view .LVU59
 308 0046 5B7A     		ldrb	r3, [r3, #9]
 309              		.loc 1 122 40 view .LVU60
 310 0048 1343     		orrs	r3, r2
 311              		.loc 1 122 22 view .LVU61
 312 004a 2381     		strh	r3, [r4, #8]
 123:Core/Src/MPU6050.c **** 	mpu6050->gyro_y_raw = ((data[10] << 8) | data[11]);
 313              		.loc 1 123 2 is_stmt 1 view .LVU62
 314              		.loc 1 123 30 is_stmt 0 view .LVU63
 315 004c 6B46     		mov	r3, sp
 316 004e 9A7A     		ldrb	r2, [r3, #10]
 317              		.loc 1 123 35 view .LVU64
 318 0050 1202     		lsls	r2, r2, #8
 319              		.loc 1 123 47 view .LVU65
 320 0052 DB7A     		ldrb	r3, [r3, #11]
 321              		.loc 1 123 41 view .LVU66
 322 0054 1343     		orrs	r3, r2
 323              		.loc 1 123 22 view .LVU67
 324 0056 6381     		strh	r3, [r4, #10]
 124:Core/Src/MPU6050.c **** 	mpu6050->gyro_z_raw = ((data[12] << 8) | data[13]);
 325              		.loc 1 124 2 is_stmt 1 view .LVU68
 326              		.loc 1 124 30 is_stmt 0 view .LVU69
 327 0058 6B46     		mov	r3, sp
 328 005a 1A7B     		ldrb	r2, [r3, #12]
 329              		.loc 1 124 35 view .LVU70
 330 005c 1202     		lsls	r2, r2, #8
 331              		.loc 1 124 47 view .LVU71
 332 005e 5B7B     		ldrb	r3, [r3, #13]
 333              		.loc 1 124 41 view .LVU72
 334 0060 1343     		orrs	r3, r2
 335              		.loc 1 124 22 view .LVU73
 336 0062 A381     		strh	r3, [r4, #12]
 125:Core/Src/MPU6050.c **** }
 337              		.loc 1 125 1 view .LVU74
 338 0064 04B0     		add	sp, sp, #16
 339              		@ sp needed
 340              	.LVL22:
ARM GAS  /tmp/ccQ5gjyD.s 			page 9


 341              		.loc 1 125 1 view .LVU75
 342 0066 10BD     		pop	{r4, pc}
 343              		.cfi_endproc
 344              	.LFE45:
 346              		.section	.text.MPU6050_Get_LSB_Sensitivity,"ax",%progbits
 347              		.align	1
 348              		.global	MPU6050_Get_LSB_Sensitivity
 349              		.syntax unified
 350              		.code	16
 351              		.thumb_func
 352              		.fpu softvfp
 354              	MPU6050_Get_LSB_Sensitivity:
 355              	.LVL23:
 356              	.LFB46:
 126:Core/Src/MPU6050.c **** 
 127:Core/Src/MPU6050.c **** void MPU6050_Get_LSB_Sensitivity(uint8_t FS_SCALE_GYRO, uint8_t FS_SCALE_ACC)
 128:Core/Src/MPU6050.c **** {
 357              		.loc 1 128 1 is_stmt 1 view -0
 358              		.cfi_startproc
 359              		@ args = 0, pretend = 0, frame = 0
 360              		@ frame_needed = 0, uses_anonymous_args = 0
 361              		@ link register save eliminated.
 129:Core/Src/MPU6050.c **** 	switch(FS_SCALE_GYRO)
 362              		.loc 1 129 2 view .LVU77
 363 0000 0228     		cmp	r0, #2
 364 0002 1DD0     		beq	.L15
 365 0004 07D8     		bhi	.L16
 366 0006 0028     		cmp	r0, #0
 367 0008 0BD0     		beq	.L17
 368 000a 0128     		cmp	r0, #1
 369 000c 0CD1     		bne	.L19
 130:Core/Src/MPU6050.c **** 	{
 131:Core/Src/MPU6050.c **** 	case 0:
 132:Core/Src/MPU6050.c **** 		LSB_Sensitivity_GYRO = 131.f;
 133:Core/Src/MPU6050.c **** 		break;
 134:Core/Src/MPU6050.c **** 	case 1:
 135:Core/Src/MPU6050.c **** 		LSB_Sensitivity_GYRO = 65.5f;
 370              		.loc 1 135 3 view .LVU78
 371              		.loc 1 135 24 is_stmt 0 view .LVU79
 372 000e 174B     		ldr	r3, .L27
 373 0010 174A     		ldr	r2, .L27+4
 374 0012 1A60     		str	r2, [r3]
 136:Core/Src/MPU6050.c **** 		break;
 375              		.loc 1 136 3 is_stmt 1 view .LVU80
 376 0014 08E0     		b	.L19
 377              	.L16:
 129:Core/Src/MPU6050.c **** 	switch(FS_SCALE_GYRO)
 378              		.loc 1 129 2 is_stmt 0 view .LVU81
 379 0016 0328     		cmp	r0, #3
 380 0018 06D1     		bne	.L19
 137:Core/Src/MPU6050.c **** 	case 2:
 138:Core/Src/MPU6050.c **** 		LSB_Sensitivity_GYRO = 32.8f;
 139:Core/Src/MPU6050.c **** 		break;
 140:Core/Src/MPU6050.c **** 	case 3:
 141:Core/Src/MPU6050.c **** 		LSB_Sensitivity_GYRO = 16.4f;
 381              		.loc 1 141 3 is_stmt 1 view .LVU82
 382              		.loc 1 141 24 is_stmt 0 view .LVU83
ARM GAS  /tmp/ccQ5gjyD.s 			page 10


 383 001a 144B     		ldr	r3, .L27
 384 001c 154A     		ldr	r2, .L27+8
 385 001e 1A60     		str	r2, [r3]
 142:Core/Src/MPU6050.c **** 		break;
 386              		.loc 1 142 3 is_stmt 1 view .LVU84
 387 0020 02E0     		b	.L19
 388              	.L17:
 132:Core/Src/MPU6050.c **** 		break;
 389              		.loc 1 132 3 view .LVU85
 132:Core/Src/MPU6050.c **** 		break;
 390              		.loc 1 132 24 is_stmt 0 view .LVU86
 391 0022 124B     		ldr	r3, .L27
 392 0024 144A     		ldr	r2, .L27+12
 393 0026 1A60     		str	r2, [r3]
 133:Core/Src/MPU6050.c **** 	case 1:
 394              		.loc 1 133 3 is_stmt 1 view .LVU87
 395              	.L19:
 143:Core/Src/MPU6050.c **** 	}
 144:Core/Src/MPU6050.c **** 	switch(FS_SCALE_ACC)
 396              		.loc 1 144 2 view .LVU88
 397 0028 0229     		cmp	r1, #2
 398 002a 19D0     		beq	.L21
 399 002c 0CD8     		bhi	.L22
 400 002e 0029     		cmp	r1, #0
 401 0030 11D0     		beq	.L23
 402 0032 0129     		cmp	r1, #1
 403 0034 13D1     		bne	.L14
 145:Core/Src/MPU6050.c **** 	{
 146:Core/Src/MPU6050.c **** 	case 0:
 147:Core/Src/MPU6050.c **** 		LSB_Sensitivity_ACC = 16384.f;
 148:Core/Src/MPU6050.c **** 		break;
 149:Core/Src/MPU6050.c **** 	case 1:
 150:Core/Src/MPU6050.c **** 		LSB_Sensitivity_ACC = 8192.f;
 404              		.loc 1 150 3 view .LVU89
 405              		.loc 1 150 23 is_stmt 0 view .LVU90
 406 0036 114B     		ldr	r3, .L27+16
 407 0038 8C22     		movs	r2, #140
 408 003a D205     		lsls	r2, r2, #23
 409 003c 1A60     		str	r2, [r3]
 151:Core/Src/MPU6050.c **** 		break;
 410              		.loc 1 151 3 is_stmt 1 view .LVU91
 411 003e 0EE0     		b	.L14
 412              	.L15:
 138:Core/Src/MPU6050.c **** 		break;
 413              		.loc 1 138 3 view .LVU92
 138:Core/Src/MPU6050.c **** 		break;
 414              		.loc 1 138 24 is_stmt 0 view .LVU93
 415 0040 0A4B     		ldr	r3, .L27
 416 0042 0F4A     		ldr	r2, .L27+20
 417 0044 1A60     		str	r2, [r3]
 139:Core/Src/MPU6050.c **** 	case 3:
 418              		.loc 1 139 3 is_stmt 1 view .LVU94
 419 0046 EFE7     		b	.L19
 420              	.L22:
 144:Core/Src/MPU6050.c **** 	{
 421              		.loc 1 144 2 is_stmt 0 view .LVU95
 422 0048 0329     		cmp	r1, #3
ARM GAS  /tmp/ccQ5gjyD.s 			page 11


 423 004a 08D1     		bne	.L14
 152:Core/Src/MPU6050.c **** 	case 2:
 153:Core/Src/MPU6050.c **** 		LSB_Sensitivity_ACC = 4096.f;
 154:Core/Src/MPU6050.c **** 		break;
 155:Core/Src/MPU6050.c **** 	case 3:
 156:Core/Src/MPU6050.c **** 		LSB_Sensitivity_ACC = 2048.f;
 424              		.loc 1 156 3 is_stmt 1 view .LVU96
 425              		.loc 1 156 23 is_stmt 0 view .LVU97
 426 004c 0B4B     		ldr	r3, .L27+16
 427 004e 8A22     		movs	r2, #138
 428 0050 D205     		lsls	r2, r2, #23
 429 0052 1A60     		str	r2, [r3]
 157:Core/Src/MPU6050.c **** 		break;
 430              		.loc 1 157 3 is_stmt 1 view .LVU98
 158:Core/Src/MPU6050.c **** 	}
 159:Core/Src/MPU6050.c **** }
 431              		.loc 1 159 1 is_stmt 0 view .LVU99
 432 0054 03E0     		b	.L14
 433              	.L23:
 147:Core/Src/MPU6050.c **** 		break;
 434              		.loc 1 147 3 is_stmt 1 view .LVU100
 147:Core/Src/MPU6050.c **** 		break;
 435              		.loc 1 147 23 is_stmt 0 view .LVU101
 436 0056 094B     		ldr	r3, .L27+16
 437 0058 8D22     		movs	r2, #141
 438 005a D205     		lsls	r2, r2, #23
 439 005c 1A60     		str	r2, [r3]
 148:Core/Src/MPU6050.c **** 	case 1:
 440              		.loc 1 148 3 is_stmt 1 view .LVU102
 441              	.L14:
 442              		.loc 1 159 1 is_stmt 0 view .LVU103
 443              		@ sp needed
 444 005e 7047     		bx	lr
 445              	.L21:
 153:Core/Src/MPU6050.c **** 		break;
 446              		.loc 1 153 3 is_stmt 1 view .LVU104
 153:Core/Src/MPU6050.c **** 		break;
 447              		.loc 1 153 23 is_stmt 0 view .LVU105
 448 0060 064B     		ldr	r3, .L27+16
 449 0062 8B22     		movs	r2, #139
 450 0064 D205     		lsls	r2, r2, #23
 451 0066 1A60     		str	r2, [r3]
 154:Core/Src/MPU6050.c **** 	case 3:
 452              		.loc 1 154 3 is_stmt 1 view .LVU106
 453 0068 F9E7     		b	.L14
 454              	.L28:
 455 006a C046     		.align	2
 456              	.L27:
 457 006c 00000000 		.word	.LANCHOR0
 458 0070 00008342 		.word	1115881472
 459 0074 33338341 		.word	1099117363
 460 0078 00000343 		.word	1124270080
 461 007c 00000000 		.word	.LANCHOR1
 462 0080 33330342 		.word	1107505971
 463              		.cfi_endproc
 464              	.LFE46:
 466              		.section	.rodata.MPU6050_Initialization.str1.4,"aMS",%progbits,1
ARM GAS  /tmp/ccQ5gjyD.s 			page 12


 467              		.align	2
 468              	.LC6:
 469 0000 43686563 		.ascii	"Checking MPU6050...\000"
 469      6B696E67 
 469      204D5055 
 469      36303530 
 469      2E2E2E00 
 470              		.align	2
 471              	.LC8:
 472 0014 4D505536 		.ascii	"MPU6050 who_am_i = 0x%02x...OK\012\000"
 472      30353020 
 472      77686F5F 
 472      616D5F69 
 472      203D2030 
 473              		.global	__aeabi_f2d
 474              		.align	2
 475              	.LC11:
 476 0034 4C53425F 		.ascii	"LSB_Sensitivity_GYRO: %f, LSB_Sensitivity_ACC: %f\012"
 476      53656E73 
 476      69746976 
 476      6974795F 
 476      4759524F 
 477 0066 00       		.ascii	"\000"
 478 0067 00       		.align	2
 479              	.LC14:
 480 0068 4D505536 		.ascii	"MPU6050 setting is finished\000"
 480      30353020 
 480      73657474 
 480      696E6720 
 480      69732066 
 481              		.align	2
 482              	.LC16:
 483 0084 4552524F 		.ascii	"ERROR!\000"
 483      522100
 484 008b 00       		.align	2
 485              	.LC18:
 486 008c 4D505536 		.ascii	"MPU6050 who_am_i : 0x%02x should be 0x68\012\000"
 486      30353020 
 486      77686F5F 
 486      616D5F69 
 486      203A2030 
 487 00b6 0000     		.align	2
 488              	.LC20:
 489 00b8 77686F20 		.ascii	"who am i error. Can not recognize mpu6050\000"
 489      616D2069 
 489      20657272 
 489      6F722E20 
 489      43616E20 
 490              		.section	.text.MPU6050_Initialization,"ax",%progbits
 491              		.align	1
 492              		.global	MPU6050_Initialization
 493              		.syntax unified
 494              		.code	16
 495              		.thumb_func
 496              		.fpu softvfp
 498              	MPU6050_Initialization:
 499              	.LFB44:
ARM GAS  /tmp/ccQ5gjyD.s 			page 13


  31:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 500              		.loc 1 31 1 view -0
 501              		.cfi_startproc
 502              		@ args = 0, pretend = 0, frame = 8
 503              		@ frame_needed = 0, uses_anonymous_args = 0
 504 0000 30B5     		push	{r4, r5, lr}
 505              	.LCFI10:
 506              		.cfi_def_cfa_offset 12
 507              		.cfi_offset 4, -12
 508              		.cfi_offset 5, -8
 509              		.cfi_offset 14, -4
 510 0002 85B0     		sub	sp, sp, #20
 511              	.LCFI11:
 512              		.cfi_def_cfa_offset 32
  32:Core/Src/MPU6050.c **** 	uint8_t who_am_i = 0;
 513              		.loc 1 32 2 view .LVU108
 514 0004 3220     		movs	r0, #50
 515 0006 FFF7FEFF 		bl	HAL_Delay
 516              	.LVL24:
  33:Core/Src/MPU6050.c **** 	printf("Checking MPU6050...\n");
 517              		.loc 1 33 2 view .LVU109
  33:Core/Src/MPU6050.c **** 	printf("Checking MPU6050...\n");
 518              		.loc 1 33 10 is_stmt 0 view .LVU110
 519 000a 0023     		movs	r3, #0
 520 000c 6A46     		mov	r2, sp
 521 000e D373     		strb	r3, [r2, #15]
  34:Core/Src/MPU6050.c **** 
 522              		.loc 1 34 2 is_stmt 1 view .LVU111
 523 0010 3848     		ldr	r0, .L34
 524 0012 FFF7FEFF 		bl	puts
 525              	.LVL25:
  36:Core/Src/MPU6050.c **** 	if(who_am_i == 0x68)
 526              		.loc 1 36 2 view .LVU112
 527 0016 0F23     		movs	r3, #15
 528 0018 6B44     		add	r3, r3, sp
 529 001a 1900     		movs	r1, r3
 530 001c 7520     		movs	r0, #117
 531 001e FFF7FEFF 		bl	MPU6050_Readbyte
 532              	.LVL26:
  37:Core/Src/MPU6050.c **** 	{
 533              		.loc 1 37 2 view .LVU113
  37:Core/Src/MPU6050.c **** 	{
 534              		.loc 1 37 14 is_stmt 0 view .LVU114
 535 0022 6B46     		mov	r3, sp
 536 0024 D97B     		ldrb	r1, [r3, #15]
  37:Core/Src/MPU6050.c **** 	{
 537              		.loc 1 37 4 view .LVU115
 538 0026 6829     		cmp	r1, #104
 539 0028 0FD0     		beq	.L33
  43:Core/Src/MPU6050.c **** 		printf("MPU6050 who_am_i : 0x%02x should be 0x68\n", who_am_i);
 540              		.loc 1 43 3 is_stmt 1 view .LVU116
 541 002a 3348     		ldr	r0, .L34+4
 542 002c FFF7FEFF 		bl	puts
 543              	.LVL27:
  44:Core/Src/MPU6050.c **** 		while(1)
 544              		.loc 1 44 3 view .LVU117
 545 0030 0F23     		movs	r3, #15
ARM GAS  /tmp/ccQ5gjyD.s 			page 14


 546 0032 6B44     		add	r3, r3, sp
 547 0034 1978     		ldrb	r1, [r3]
 548 0036 3148     		ldr	r0, .L34+8
 549 0038 FFF7FEFF 		bl	printf
 550              	.LVL28:
 551              	.L31:
  45:Core/Src/MPU6050.c **** 		{
 552              		.loc 1 45 3 discriminator 1 view .LVU118
  47:Core/Src/MPU6050.c **** 			HAL_Delay(100);
 553              		.loc 1 47 4 discriminator 1 view .LVU119
 554 003c 3048     		ldr	r0, .L34+12
 555 003e FFF7FEFF 		bl	puts
 556              	.LVL29:
  48:Core/Src/MPU6050.c **** 		}
 557              		.loc 1 48 4 discriminator 1 view .LVU120
 558 0042 6420     		movs	r0, #100
 559 0044 FFF7FEFF 		bl	HAL_Delay
 560              	.LVL30:
  45:Core/Src/MPU6050.c **** 		{
 561              		.loc 1 45 8 discriminator 1 view .LVU121
 562 0048 F8E7     		b	.L31
 563              	.L33:
  39:Core/Src/MPU6050.c **** 	}
 564              		.loc 1 39 3 view .LVU122
 565 004a 2E48     		ldr	r0, .L34+16
 566 004c FFF7FEFF 		bl	printf
 567              	.LVL31:
  53:Core/Src/MPU6050.c **** 	HAL_Delay(100);
 568              		.loc 1 53 2 view .LVU123
 569 0050 8021     		movs	r1, #128
 570 0052 6B20     		movs	r0, #107
 571 0054 FFF7FEFF 		bl	MPU6050_Writebyte
 572              	.LVL32:
  54:Core/Src/MPU6050.c **** 
 573              		.loc 1 54 2 view .LVU124
 574 0058 6420     		movs	r0, #100
 575 005a FFF7FEFF 		bl	HAL_Delay
 576              	.LVL33:
  59:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 577              		.loc 1 59 2 view .LVU125
 578 005e 0021     		movs	r1, #0
 579 0060 6B20     		movs	r0, #107
 580 0062 FFF7FEFF 		bl	MPU6050_Writebyte
 581              	.LVL34:
  60:Core/Src/MPU6050.c **** 
 582              		.loc 1 60 2 view .LVU126
 583 0066 3220     		movs	r0, #50
 584 0068 FFF7FEFF 		bl	HAL_Delay
 585              	.LVL35:
  65:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 586              		.loc 1 65 2 view .LVU127
 587 006c 2721     		movs	r1, #39
 588 006e 1920     		movs	r0, #25
 589 0070 FFF7FEFF 		bl	MPU6050_Writebyte
 590              	.LVL36:
  66:Core/Src/MPU6050.c **** 
 591              		.loc 1 66 2 view .LVU128
ARM GAS  /tmp/ccQ5gjyD.s 			page 15


 592 0074 3220     		movs	r0, #50
 593 0076 FFF7FEFF 		bl	HAL_Delay
 594              	.LVL37:
  70:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 595              		.loc 1 70 2 view .LVU129
 596 007a 0021     		movs	r1, #0
 597 007c 1A20     		movs	r0, #26
 598 007e FFF7FEFF 		bl	MPU6050_Writebyte
 599              	.LVL38:
  71:Core/Src/MPU6050.c **** 
 600              		.loc 1 71 2 view .LVU130
 601 0082 3220     		movs	r0, #50
 602 0084 FFF7FEFF 		bl	HAL_Delay
 603              	.LVL39:
  79:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_GYRO_CONFIG, FS_SCALE_GYRO<<3);
 604              		.loc 1 79 2 view .LVU131
  80:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 605              		.loc 1 80 2 view .LVU132
 606 0088 0021     		movs	r1, #0
 607 008a 1B20     		movs	r0, #27
 608 008c FFF7FEFF 		bl	MPU6050_Writebyte
 609              	.LVL40:
  81:Core/Src/MPU6050.c **** 
 610              		.loc 1 81 2 view .LVU133
 611 0090 3220     		movs	r0, #50
 612 0092 FFF7FEFF 		bl	HAL_Delay
 613              	.LVL41:
  89:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_ACCEL_CONFIG, FS_SCALE_ACC<<3);
 614              		.loc 1 89 2 view .LVU134
  90:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 615              		.loc 1 90 2 view .LVU135
 616 0096 0021     		movs	r1, #0
 617 0098 1C20     		movs	r0, #28
 618 009a FFF7FEFF 		bl	MPU6050_Writebyte
 619              	.LVL42:
  91:Core/Src/MPU6050.c **** 
 620              		.loc 1 91 2 view .LVU136
 621 009e 3220     		movs	r0, #50
 622 00a0 FFF7FEFF 		bl	HAL_Delay
 623              	.LVL43:
  93:Core/Src/MPU6050.c **** 	printf("LSB_Sensitivity_GYRO: %f, LSB_Sensitivity_ACC: %f\n",LSB_Sensitivity_GYRO, LSB_Sensitivity
 624              		.loc 1 93 2 view .LVU137
 625 00a4 0021     		movs	r1, #0
 626 00a6 0020     		movs	r0, #0
 627 00a8 FFF7FEFF 		bl	MPU6050_Get_LSB_Sensitivity
 628              	.LVL44:
  94:Core/Src/MPU6050.c **** 
 629              		.loc 1 94 2 view .LVU138
 630 00ac 164B     		ldr	r3, .L34+20
 631 00ae 1868     		ldr	r0, [r3]
 632 00b0 FFF7FEFF 		bl	__aeabi_f2d
 633              	.LVL45:
 634 00b4 0400     		movs	r4, r0
 635 00b6 0D00     		movs	r5, r1
 636 00b8 144B     		ldr	r3, .L34+24
 637 00ba 1868     		ldr	r0, [r3]
 638 00bc FFF7FEFF 		bl	__aeabi_f2d
ARM GAS  /tmp/ccQ5gjyD.s 			page 16


 639              	.LVL46:
 640 00c0 0090     		str	r0, [sp]
 641 00c2 0191     		str	r1, [sp, #4]
 642 00c4 2200     		movs	r2, r4
 643 00c6 2B00     		movs	r3, r5
 644 00c8 1148     		ldr	r0, .L34+28
 645 00ca FFF7FEFF 		bl	printf
 646              	.LVL47:
  97:Core/Src/MPU6050.c **** 	uint8_t LATCH_INT_EN = 0x0; //0 - INT 50us pulse, 1 - interrupt clear required
 647              		.loc 1 97 2 view .LVU139
  98:Core/Src/MPU6050.c **** 	uint8_t INT_RD_CLEAR = 0x1; //0 - INT flag cleared by reading INT_STATUS, 1 - INT flag cleared by 
 648              		.loc 1 98 2 view .LVU140
  99:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_INT_PIN_CFG, (INT_LEVEL<<7)|(LATCH_INT_EN<<5)|(INT_RD_CLEAR<<4)); //
 649              		.loc 1 99 2 view .LVU141
 100:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 650              		.loc 1 100 2 view .LVU142
 651 00ce 1021     		movs	r1, #16
 652 00d0 3720     		movs	r0, #55
 653 00d2 FFF7FEFF 		bl	MPU6050_Writebyte
 654              	.LVL48:
 101:Core/Src/MPU6050.c **** 
 655              		.loc 1 101 2 view .LVU143
 656 00d6 3220     		movs	r0, #50
 657 00d8 FFF7FEFF 		bl	HAL_Delay
 658              	.LVL49:
 104:Core/Src/MPU6050.c **** 	MPU6050_Writebyte(MPU6050_INT_ENABLE, DATA_RDY_EN);
 659              		.loc 1 104 2 view .LVU144
 105:Core/Src/MPU6050.c **** 	HAL_Delay(50);
 660              		.loc 1 105 2 view .LVU145
 661 00dc 0121     		movs	r1, #1
 662 00de 3820     		movs	r0, #56
 663 00e0 FFF7FEFF 		bl	MPU6050_Writebyte
 664              	.LVL50:
 106:Core/Src/MPU6050.c **** 
 665              		.loc 1 106 2 view .LVU146
 666 00e4 3220     		movs	r0, #50
 667 00e6 FFF7FEFF 		bl	HAL_Delay
 668              	.LVL51:
 108:Core/Src/MPU6050.c **** }
 669              		.loc 1 108 2 view .LVU147
 670 00ea 0A48     		ldr	r0, .L34+32
 671 00ec FFF7FEFF 		bl	puts
 672              	.LVL52:
 109:Core/Src/MPU6050.c **** /*Get Raw Data from sensor*/
 673              		.loc 1 109 1 is_stmt 0 view .LVU148
 674 00f0 05B0     		add	sp, sp, #20
 675              		@ sp needed
 676 00f2 30BD     		pop	{r4, r5, pc}
 677              	.L35:
 678              		.align	2
 679              	.L34:
 680 00f4 00000000 		.word	.LC6
 681 00f8 84000000 		.word	.LC16
 682 00fc 8C000000 		.word	.LC18
 683 0100 B8000000 		.word	.LC20
 684 0104 14000000 		.word	.LC8
 685 0108 00000000 		.word	.LANCHOR0
ARM GAS  /tmp/ccQ5gjyD.s 			page 17


 686 010c 00000000 		.word	.LANCHOR1
 687 0110 34000000 		.word	.LC11
 688 0114 68000000 		.word	.LC14
 689              		.cfi_endproc
 690              	.LFE44:
 692              		.global	__aeabi_i2f
 693              		.global	__aeabi_fdiv
 694              		.global	__aeabi_dadd
 695              		.global	__aeabi_d2f
 696              		.section	.text.MPU6050_DataConvert,"ax",%progbits
 697              		.align	1
 698              		.global	MPU6050_DataConvert
 699              		.syntax unified
 700              		.code	16
 701              		.thumb_func
 702              		.fpu softvfp
 704              	MPU6050_DataConvert:
 705              	.LVL53:
 706              	.LFB47:
 160:Core/Src/MPU6050.c **** 
 161:Core/Src/MPU6050.c **** /*Convert Unit. acc_raw -> g, gyro_raw -> degree per second*/
 162:Core/Src/MPU6050.c **** void MPU6050_DataConvert(Struct_MPU6050* mpu6050)
 163:Core/Src/MPU6050.c **** {
 707              		.loc 1 163 1 is_stmt 1 view -0
 708              		.cfi_startproc
 709              		@ args = 0, pretend = 0, frame = 0
 710              		@ frame_needed = 0, uses_anonymous_args = 0
 711              		.loc 1 163 1 is_stmt 0 view .LVU150
 712 0000 70B5     		push	{r4, r5, r6, lr}
 713              	.LCFI12:
 714              		.cfi_def_cfa_offset 16
 715              		.cfi_offset 4, -16
 716              		.cfi_offset 5, -12
 717              		.cfi_offset 6, -8
 718              		.cfi_offset 14, -4
 719 0002 0400     		movs	r4, r0
 164:Core/Src/MPU6050.c **** 	//printf("LSB_Sensitivity_GYRO: %f, LSB_Sensitivity_ACC: %f\n",LSB_Sensitivity_GYRO,LSB_Sensitivit
 165:Core/Src/MPU6050.c **** 	mpu6050->acc_x = mpu6050->acc_x_raw / LSB_Sensitivity_ACC;
 720              		.loc 1 165 2 is_stmt 1 view .LVU151
 721              		.loc 1 165 26 is_stmt 0 view .LVU152
 722 0004 0023     		movs	r3, #0
 723 0006 C05E     		ldrsh	r0, [r0, r3]
 724              	.LVL54:
 725              		.loc 1 165 38 view .LVU153
 726 0008 214B     		ldr	r3, .L37
 727 000a 1D68     		ldr	r5, [r3]
 728 000c FFF7FEFF 		bl	__aeabi_i2f
 729              	.LVL55:
 730 0010 291C     		adds	r1, r5, #0
 731 0012 FFF7FEFF 		bl	__aeabi_fdiv
 732              	.LVL56:
 733              		.loc 1 165 17 view .LVU154
 734 0016 2061     		str	r0, [r4, #16]
 166:Core/Src/MPU6050.c **** 	mpu6050->acc_y = mpu6050->acc_y_raw / LSB_Sensitivity_ACC;
 735              		.loc 1 166 2 is_stmt 1 view .LVU155
 736              		.loc 1 166 26 is_stmt 0 view .LVU156
 737 0018 0223     		movs	r3, #2
ARM GAS  /tmp/ccQ5gjyD.s 			page 18


 738 001a E05E     		ldrsh	r0, [r4, r3]
 739              		.loc 1 166 38 view .LVU157
 740 001c FFF7FEFF 		bl	__aeabi_i2f
 741              	.LVL57:
 742 0020 291C     		adds	r1, r5, #0
 743 0022 FFF7FEFF 		bl	__aeabi_fdiv
 744              	.LVL58:
 745              		.loc 1 166 17 view .LVU158
 746 0026 6061     		str	r0, [r4, #20]
 167:Core/Src/MPU6050.c **** 	mpu6050->acc_z = mpu6050->acc_z_raw / LSB_Sensitivity_ACC;
 747              		.loc 1 167 2 is_stmt 1 view .LVU159
 748              		.loc 1 167 26 is_stmt 0 view .LVU160
 749 0028 0423     		movs	r3, #4
 750 002a E05E     		ldrsh	r0, [r4, r3]
 751              		.loc 1 167 38 view .LVU161
 752 002c FFF7FEFF 		bl	__aeabi_i2f
 753              	.LVL59:
 754 0030 291C     		adds	r1, r5, #0
 755 0032 FFF7FEFF 		bl	__aeabi_fdiv
 756              	.LVL60:
 757              		.loc 1 167 17 view .LVU162
 758 0036 A061     		str	r0, [r4, #24]
 168:Core/Src/MPU6050.c **** 
 169:Core/Src/MPU6050.c **** 	mpu6050->temperature = (float)(mpu6050->temperature_raw)/340+36.53;
 759              		.loc 1 169 2 is_stmt 1 view .LVU163
 760              		.loc 1 169 40 is_stmt 0 view .LVU164
 761 0038 0623     		movs	r3, #6
 762 003a E05E     		ldrsh	r0, [r4, r3]
 763              		.loc 1 169 25 view .LVU165
 764 003c FFF7FEFF 		bl	__aeabi_i2f
 765              	.LVL61:
 766              		.loc 1 169 58 view .LVU166
 767 0040 1449     		ldr	r1, .L37+4
 768 0042 FFF7FEFF 		bl	__aeabi_fdiv
 769              	.LVL62:
 770 0046 FFF7FEFF 		bl	__aeabi_f2d
 771              	.LVL63:
 772              		.loc 1 169 62 view .LVU167
 773 004a 134A     		ldr	r2, .L37+8
 774 004c 134B     		ldr	r3, .L37+12
 775 004e FFF7FEFF 		bl	__aeabi_dadd
 776              	.LVL64:
 777 0052 FFF7FEFF 		bl	__aeabi_d2f
 778              	.LVL65:
 779              		.loc 1 169 23 view .LVU168
 780 0056 E061     		str	r0, [r4, #28]
 170:Core/Src/MPU6050.c **** 
 171:Core/Src/MPU6050.c **** 	mpu6050->gyro_x = mpu6050->gyro_x_raw / LSB_Sensitivity_GYRO;
 781              		.loc 1 171 2 is_stmt 1 view .LVU169
 782              		.loc 1 171 27 is_stmt 0 view .LVU170
 783 0058 0823     		movs	r3, #8
 784 005a E05E     		ldrsh	r0, [r4, r3]
 785              		.loc 1 171 40 view .LVU171
 786 005c 104B     		ldr	r3, .L37+16
 787 005e 1D68     		ldr	r5, [r3]
 788 0060 FFF7FEFF 		bl	__aeabi_i2f
 789              	.LVL66:
ARM GAS  /tmp/ccQ5gjyD.s 			page 19


 790 0064 291C     		adds	r1, r5, #0
 791 0066 FFF7FEFF 		bl	__aeabi_fdiv
 792              	.LVL67:
 793              		.loc 1 171 18 view .LVU172
 794 006a 2062     		str	r0, [r4, #32]
 172:Core/Src/MPU6050.c **** 	mpu6050->gyro_y = mpu6050->gyro_y_raw / LSB_Sensitivity_GYRO;
 795              		.loc 1 172 2 is_stmt 1 view .LVU173
 796              		.loc 1 172 27 is_stmt 0 view .LVU174
 797 006c 0A23     		movs	r3, #10
 798 006e E05E     		ldrsh	r0, [r4, r3]
 799              		.loc 1 172 40 view .LVU175
 800 0070 FFF7FEFF 		bl	__aeabi_i2f
 801              	.LVL68:
 802 0074 291C     		adds	r1, r5, #0
 803 0076 FFF7FEFF 		bl	__aeabi_fdiv
 804              	.LVL69:
 805              		.loc 1 172 18 view .LVU176
 806 007a 6062     		str	r0, [r4, #36]
 173:Core/Src/MPU6050.c **** 	mpu6050->gyro_z = mpu6050->gyro_z_raw / LSB_Sensitivity_GYRO;
 807              		.loc 1 173 2 is_stmt 1 view .LVU177
 808              		.loc 1 173 27 is_stmt 0 view .LVU178
 809 007c 0C23     		movs	r3, #12
 810 007e E05E     		ldrsh	r0, [r4, r3]
 811              		.loc 1 173 40 view .LVU179
 812 0080 FFF7FEFF 		bl	__aeabi_i2f
 813              	.LVL70:
 814 0084 291C     		adds	r1, r5, #0
 815 0086 FFF7FEFF 		bl	__aeabi_fdiv
 816              	.LVL71:
 817              		.loc 1 173 18 view .LVU180
 818 008a A062     		str	r0, [r4, #40]
 174:Core/Src/MPU6050.c **** }
 819              		.loc 1 174 1 view .LVU181
 820              		@ sp needed
 821              	.LVL72:
 822              		.loc 1 174 1 view .LVU182
 823 008c 70BD     		pop	{r4, r5, r6, pc}
 824              	.L38:
 825 008e C046     		.align	2
 826              	.L37:
 827 0090 00000000 		.word	.LANCHOR1
 828 0094 0000AA43 		.word	1135214592
 829 0098 A4703D0A 		.word	171798692
 830 009c D7434240 		.word	1078084567
 831 00a0 00000000 		.word	.LANCHOR0
 832              		.cfi_endproc
 833              	.LFE47:
 835              		.section	.text.MPU6050_DataReady,"ax",%progbits
 836              		.align	1
 837              		.global	MPU6050_DataReady
 838              		.syntax unified
 839              		.code	16
 840              		.thumb_func
 841              		.fpu softvfp
 843              	MPU6050_DataReady:
 844              	.LFB48:
 175:Core/Src/MPU6050.c **** 
ARM GAS  /tmp/ccQ5gjyD.s 			page 20


 176:Core/Src/MPU6050.c **** 
 177:Core/Src/MPU6050.c **** int MPU6050_DataReady(void)
 178:Core/Src/MPU6050.c **** {
 845              		.loc 1 178 1 is_stmt 1 view -0
 846              		.cfi_startproc
 847              		@ args = 0, pretend = 0, frame = 0
 848              		@ frame_needed = 0, uses_anonymous_args = 0
 849 0000 10B5     		push	{r4, lr}
 850              	.LCFI13:
 851              		.cfi_def_cfa_offset 8
 852              		.cfi_offset 4, -8
 853              		.cfi_offset 14, -4
 179:Core/Src/MPU6050.c **** 	//old school way
 180:Core/Src/MPU6050.c **** 	/*
 181:Core/Src/MPU6050.c **** 	static uint8_t INT_STATE_FLAG = 0;
 182:Core/Src/MPU6050.c **** 	static uint8_t DATA_RDY_INT_FLAG = 0;
 183:Core/Src/MPU6050.c **** 	static uint8_t INT_PIN = 0;
 184:Core/Src/MPU6050.c **** 	INT_PIN = LL_GPIO_IsInputPinSet(MPU6050_INT_PORT, MPU6050_INT_PIN);
 185:Core/Src/MPU6050.c **** 	if(INT_PIN == 1)
 186:Core/Src/MPU6050.c **** 	{
 187:Core/Src/MPU6050.c **** 		MPU6050_Readbyte(MPU6050_INT_STATUS, &INT_STATE_FLAG); //flag cleared automatically within the se
 188:Core/Src/MPU6050.c **** 		DATA_RDY_INT_FLAG = INT_STATE_FLAG & 0x01;
 189:Core/Src/MPU6050.c **** 		if(DATA_RDY_INT_FLAG == 1)
 190:Core/Src/MPU6050.c **** 		{
 191:Core/Src/MPU6050.c **** 			INT_STATE_FLAG = 0; //flag clearing
 192:Core/Src/MPU6050.c **** 			DATA_RDY_INT_FLAG = 0;
 193:Core/Src/MPU6050.c **** 			INT_PIN = 0;
 194:Core/Src/MPU6050.c **** 			return 1;
 195:Core/Src/MPU6050.c **** 		}
 196:Core/Src/MPU6050.c **** 	}
 197:Core/Src/MPU6050.c **** 	return 0;
 198:Core/Src/MPU6050.c **** 	 */
 199:Core/Src/MPU6050.c **** 	return HAL_GPIO_ReadPin(MPU6050_INT_PORT, MPU6050_INT_PIN);
 854              		.loc 1 199 2 view .LVU184
 855              		.loc 1 199 9 is_stmt 0 view .LVU185
 856 0002 2021     		movs	r1, #32
 857 0004 0148     		ldr	r0, .L40
 858 0006 FFF7FEFF 		bl	HAL_GPIO_ReadPin
 859              	.LVL73:
 200:Core/Src/MPU6050.c **** }
 860              		.loc 1 200 1 view .LVU186
 861              		@ sp needed
 862 000a 10BD     		pop	{r4, pc}
 863              	.L41:
 864              		.align	2
 865              	.L40:
 866 000c 00040048 		.word	1207960576
 867              		.cfi_endproc
 868              	.LFE48:
 870              		.section	.text.MPU6050_ProcessData,"ax",%progbits
 871              		.align	1
 872              		.global	MPU6050_ProcessData
 873              		.syntax unified
 874              		.code	16
 875              		.thumb_func
 876              		.fpu softvfp
 878              	MPU6050_ProcessData:
ARM GAS  /tmp/ccQ5gjyD.s 			page 21


 879              	.LVL74:
 880              	.LFB49:
 201:Core/Src/MPU6050.c **** 
 202:Core/Src/MPU6050.c **** void MPU6050_ProcessData(Struct_MPU6050* mpu6050)
 203:Core/Src/MPU6050.c **** {
 881              		.loc 1 203 1 is_stmt 1 view -0
 882              		.cfi_startproc
 883              		@ args = 0, pretend = 0, frame = 0
 884              		@ frame_needed = 0, uses_anonymous_args = 0
 885              		.loc 1 203 1 is_stmt 0 view .LVU188
 886 0000 10B5     		push	{r4, lr}
 887              	.LCFI14:
 888              		.cfi_def_cfa_offset 8
 889              		.cfi_offset 4, -8
 890              		.cfi_offset 14, -4
 891 0002 0400     		movs	r4, r0
 204:Core/Src/MPU6050.c **** 	MPU6050_Get6AxisRawData(mpu6050);
 892              		.loc 1 204 2 is_stmt 1 view .LVU189
 893 0004 FFF7FEFF 		bl	MPU6050_Get6AxisRawData
 894              	.LVL75:
 205:Core/Src/MPU6050.c **** 	MPU6050_DataConvert(mpu6050);
 895              		.loc 1 205 2 view .LVU190
 896 0008 2000     		movs	r0, r4
 897 000a FFF7FEFF 		bl	MPU6050_DataConvert
 898              	.LVL76:
 206:Core/Src/MPU6050.c **** }
 899              		.loc 1 206 1 is_stmt 0 view .LVU191
 900              		@ sp needed
 901              	.LVL77:
 902              		.loc 1 206 1 view .LVU192
 903 000e 10BD     		pop	{r4, pc}
 904              		.cfi_endproc
 905              	.LFE49:
 907              		.global	MPU6050
 908              		.section	.bss.LSB_Sensitivity_ACC,"aw",%nobits
 909              		.align	2
 910              		.set	.LANCHOR1,. + 0
 913              	LSB_Sensitivity_ACC:
 914 0000 00000000 		.space	4
 915              		.section	.bss.LSB_Sensitivity_GYRO,"aw",%nobits
 916              		.align	2
 917              		.set	.LANCHOR0,. + 0
 920              	LSB_Sensitivity_GYRO:
 921 0000 00000000 		.space	4
 922              		.section	.bss.MPU6050,"aw",%nobits
 923              		.align	2
 926              	MPU6050:
 927 0000 00000000 		.space	44
 927      00000000 
 927      00000000 
 927      00000000 
 927      00000000 
 928              		.text
 929              	.Letext0:
 930              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 931              		.file 3 "Drivers/CMSIS/Device/ST/STM32F0xx/Include/stm32f051x8.h"
 932              		.file 4 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_def.h"
ARM GAS  /tmp/ccQ5gjyD.s 			page 22


 933              		.file 5 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_dma.h"
 934              		.file 6 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_i2c.h"
 935              		.file 7 "Core/Inc/MPU6050.h"
 936              		.file 8 "Core/Inc/i2c.h"
 937              		.file 9 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal_gpio.h"
 938              		.file 10 "Drivers/STM32F0xx_HAL_Driver/Inc/stm32f0xx_hal.h"
 939              		.file 11 "<built-in>"
ARM GAS  /tmp/ccQ5gjyD.s 			page 23


DEFINED SYMBOLS
                            *ABS*:0000000000000000 MPU6050.c
     /tmp/ccQ5gjyD.s:16     .text.MPU6050_Writebyte:0000000000000000 $t
     /tmp/ccQ5gjyD.s:24     .text.MPU6050_Writebyte:0000000000000000 MPU6050_Writebyte
     /tmp/ccQ5gjyD.s:67     .text.MPU6050_Writebyte:0000000000000024 $d
     /tmp/ccQ5gjyD.s:72     .text.MPU6050_Writebytes:0000000000000000 $t
     /tmp/ccQ5gjyD.s:79     .text.MPU6050_Writebytes:0000000000000000 MPU6050_Writebytes
     /tmp/ccQ5gjyD.s:117    .text.MPU6050_Writebytes:000000000000001c $d
     /tmp/ccQ5gjyD.s:122    .text.MPU6050_Readbyte:0000000000000000 $t
     /tmp/ccQ5gjyD.s:129    .text.MPU6050_Readbyte:0000000000000000 MPU6050_Readbyte
     /tmp/ccQ5gjyD.s:165    .text.MPU6050_Readbyte:000000000000001c $d
     /tmp/ccQ5gjyD.s:170    .text.MPU6050_Readbytes:0000000000000000 $t
     /tmp/ccQ5gjyD.s:177    .text.MPU6050_Readbytes:0000000000000000 MPU6050_Readbytes
     /tmp/ccQ5gjyD.s:215    .text.MPU6050_Readbytes:000000000000001c $d
     /tmp/ccQ5gjyD.s:220    .text.MPU6050_Get6AxisRawData:0000000000000000 $t
     /tmp/ccQ5gjyD.s:227    .text.MPU6050_Get6AxisRawData:0000000000000000 MPU6050_Get6AxisRawData
     /tmp/ccQ5gjyD.s:347    .text.MPU6050_Get_LSB_Sensitivity:0000000000000000 $t
     /tmp/ccQ5gjyD.s:354    .text.MPU6050_Get_LSB_Sensitivity:0000000000000000 MPU6050_Get_LSB_Sensitivity
     /tmp/ccQ5gjyD.s:457    .text.MPU6050_Get_LSB_Sensitivity:000000000000006c $d
     /tmp/ccQ5gjyD.s:467    .rodata.MPU6050_Initialization.str1.4:0000000000000000 $d
     /tmp/ccQ5gjyD.s:491    .text.MPU6050_Initialization:0000000000000000 $t
     /tmp/ccQ5gjyD.s:498    .text.MPU6050_Initialization:0000000000000000 MPU6050_Initialization
     /tmp/ccQ5gjyD.s:680    .text.MPU6050_Initialization:00000000000000f4 $d
     /tmp/ccQ5gjyD.s:697    .text.MPU6050_DataConvert:0000000000000000 $t
     /tmp/ccQ5gjyD.s:704    .text.MPU6050_DataConvert:0000000000000000 MPU6050_DataConvert
     /tmp/ccQ5gjyD.s:827    .text.MPU6050_DataConvert:0000000000000090 $d
     /tmp/ccQ5gjyD.s:836    .text.MPU6050_DataReady:0000000000000000 $t
     /tmp/ccQ5gjyD.s:843    .text.MPU6050_DataReady:0000000000000000 MPU6050_DataReady
     /tmp/ccQ5gjyD.s:866    .text.MPU6050_DataReady:000000000000000c $d
     /tmp/ccQ5gjyD.s:871    .text.MPU6050_ProcessData:0000000000000000 $t
     /tmp/ccQ5gjyD.s:878    .text.MPU6050_ProcessData:0000000000000000 MPU6050_ProcessData
     /tmp/ccQ5gjyD.s:926    .bss.MPU6050:0000000000000000 MPU6050
     /tmp/ccQ5gjyD.s:909    .bss.LSB_Sensitivity_ACC:0000000000000000 $d
     /tmp/ccQ5gjyD.s:913    .bss.LSB_Sensitivity_ACC:0000000000000000 LSB_Sensitivity_ACC
     /tmp/ccQ5gjyD.s:916    .bss.LSB_Sensitivity_GYRO:0000000000000000 $d
     /tmp/ccQ5gjyD.s:920    .bss.LSB_Sensitivity_GYRO:0000000000000000 LSB_Sensitivity_GYRO
     /tmp/ccQ5gjyD.s:923    .bss.MPU6050:0000000000000000 $d

UNDEFINED SYMBOLS
HAL_I2C_Mem_Write
hi2c1
HAL_I2C_Mem_Read
__aeabi_f2d
HAL_Delay
puts
printf
__aeabi_i2f
__aeabi_fdiv
__aeabi_dadd
__aeabi_d2f
HAL_GPIO_ReadPin
